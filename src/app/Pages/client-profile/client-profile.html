<h1 class="mt-5 text-white text-end big ">CLIENT PROFILE</h1>
<div class="text-white client-profile p-md-5 p-3 mb-5">
  <div class="d-flex justify-content-end">
    @switch (aboutclient()?.clientType) { @case (0) {
    <h3 class="term pt-md-3 pt-2 pb-1 mb-3 rounded">Old Client</h3>
    } @case (1) {
    <h3 class="term pt-md-3 pt-2 pb-1 mb-3 rounded">Long Term</h3>
    } @case (2) {
    <h3 class="term pt-md-3 pt-2 pb-1 mb-3 rounded">New Client</h3>
    } }
  </div>
  <div class="d-flex resCoulum">
    <div>
      <img
        [src]="baseimageUrl + aboutclient()?.imageUrl"
        alt=""
        width="214"
        height="214"
        style="object-fit: cover"
        class="rounded imageClients"
      />
    </div>
    <div class="ms-xl-4 ms-md-4 ms-3 w-100">
      <h5 class="mb-md-2 mb-1">ABOUT {{ aboutclient()?.name  | uppercase}}</h5>
      <p class="low small  mb-lg-4 pb--md-2 w-75" style="white-space: pre-line">
     {{ aboutclient()?.about }}
      </p>
      <h5 class="mb-2">SERVICES</h5>

      <div class="service  d-flex align-items-center gap-3 w-50 flex-wrap">
        @for (service of aboutclient()?.services; track service.id) {
        <p class="low small mb-0">{{ service.name }}</p>

        }
        @empty {
        <p class="text-muted">No services available</p>
        }
      </div>
        <div class="row">
    <div class="col text-start">
      
      <h5 class="my-2">LOCATION</h5>
      <p class="low small mb-0">{{ aboutclient()?.location }}</p>
    </div>

  </div>

    </div>
  </div>
 <div class="row">
                <div class="col text-start mt-4">
                    <h3 class="fw-bold mb-0">{{ aboutclient()?.name  | uppercase}}</h3>
                    <p>{{ aboutclient()?.userName| uppercase}} </p>
                </div>
                <div class="col text-end mt-4">
                    <p class="low small mb-0">  @if (aboutclient()?.phoneNumber; as phoneNumber) {
          {{ phoneNumber }}
        }
        @else {
          N/A
        }</p>
      <a [href]="aboutclient()?.websiteUrl" target="_blank" class="low small text-decoration-none text-white booked">
        {{ aboutclient()?.websiteUrl }}
      </a>                </div>
            </div>
                <div class="mx-0 g-5 row">
                    <div class="col-lg-6 ps-2 pe-3  ms-1 ms-lg-0">
                            <div class="d-flex row left-box rounded p-4">
                                <div class="col px-0">
                                    <h6 class="low">ASSIGEND TO :</h6>
                                  <h4 class="mb-0">
  {{ getEmployeesFirstNames() }}
</h4>
                                </div>
                                <div class="col px-0">
                                    <div class="d-flex justify-content-end gap-3 flex-wrap mt-2 w-100">
                                              @for( employess of aboutclient()?.employeesAssignedToClient; track employess.name){
                                                    <div><img class=" rounded-2 object-fit-fill " width="60" height="60" src="{{ baseimageUrl + employess.imageUrl }}" alt=""></div>
              

                                              }
                                    </div>
                                </div>
                                <div class="d-flex rounded px-0">
                                    <div class="col ps-0 mt-auto ">
<p class="small mb-0">
  {{ formatClientDate(aboutclient()?.createdAt) }}
</p>
                                    </div>
                                
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 ps-lg-3 ps-0 pe-0">
                        <div class=" right-box h-100 rounded p-4 ">
                            <div class="row ps-0 pe-3 ms-0">
                                <div class="col-lg col-8 px-0 pe-0">
                                    <h6 class="">{{ aboutclient()?.lastClientProject?.title}}  - 
                                        @switch (aboutclient()?.lastClientProject?.projectType) {
                                        @case (0) { One time  Project  }
                                        @case (1) { Social Media }
                                        @case (2) { Media Buying  }
                                        }
                                    </h6>
                                    <p class="low small mb-0" style="white-space: pre-line;">{{aboutclient()?.lastClientProject?.description}}</p>
                                </div>
                                <div class="col-lg-4 col-4 text-end px-0">
                                    <h1 class="mb-0">PSR</h1>
                                    <p class="small mb-0">PROJECT SUCCESS RATE</p>
                                </div>
                            </div>
                            <div class="row px-0">
                                <div class="col mt-auto margin">
                                    <h6 class="">{{ aboutclient()?.lastClientProject?.createdAt | date }}</h6>
                                <div class="d-flex align-items-center mt-0">
                   <div class="stars">
  @for (s of [1, 2, 3, 4, 5]; track s) {
    <button class="star-btn" type="button">
      <i
        class="fa fa-star"
        [class.active]="s <= (aboutclient()?.lastClientProject?.feedbackRate ?? 0)"
        >
      </i>
    </button>
  }
</div>

                </div>
                                </div>
                                <div class="col text-end h1-span">
                                    <p>{{ aboutclient()?.lastClientProject?.successPercentage}} %</p>
                                </div>
                            </div>
                    </div>
                    
                </div>
                                </div>

</div>

<app-projects-profile [tpyeOfProject]="false" />
<app-feedback-client/>